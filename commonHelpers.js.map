{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function imageRender(data) {\n    return data.hits.map((item) => {\n        return `<div class=\"gallery-item\">\n            <a href=\"${item.largeImageURL}\" target=\"_blank\">\n                <img src=\"${item.webformatURL}\" alt=\"${item.tags}\" />\n            </a>\n            <ul class=\"img-data-list\">\n                <li class=\"likes\">Likes<p>${item.likes}</p></li>\n                <li class=\"views\">Views<p>${item.views}</p></li>\n                <li class=\"comments\">Comments<p>${item.comments}</p></li>\n                <li class=\"downloads\">Downloads<p>${item.downloads}</p></li>\n            </ul>\n        </div>`;\n    }).join('');\n}\n"," export function getPhotos(q) {\n    const API_KEY = '43242256-64b8ba54a0ed56e09a2e1fe41';\n    const BASE_URL = \"https://pixabay.com/api/?key=\" + API_KEY;\n    const params = new URLSearchParams({\n        key: `${API_KEY}`,\n        q: `${q}`,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n    const URL = `${BASE_URL}&${params}`;\n    return fetch(URL).then(res => res.json());\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { imageRender } from \"./js/render-functions\";\nimport { getPhotos } from \"./js/pixabay-api\";\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250\n});\nconst loader = document.getElementById('loader');\n\nform.addEventListener(\"submit\", e => {\n    e.preventDefault();\n    const q = form.elements.input.value; \n    if (q === \"\") return;\n    loader.style.display = 'block'; \n    getPhotos(q).then(data => {\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: 'topRight'\n            });\n        } else {\n            const markup = imageRender(data);\n            gallery.innerHTML = markup;\n            lightbox.refresh();\n        }\n        loader.style.display = 'none'; \n    }).catch(error => {\n        iziToast.error({\n            position: \"topRight\",\n            message:\"Sorry, there are no images matching your search query. Please try again!\"\n        });\n    });\n});\n\n\n\n\n"],"names":["imageRender","data","item","getPhotos","q","API_KEY","BASE_URL","params","URL","res","form","gallery","lightbox","SimpleLightbox","loader","e","iziToast","markup","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAM,CAC9B,OAAOA,EAAK,KAAK,IAAKC,GACX;AAAA,uBACQA,EAAK,aAAa;AAAA,4BACbA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA;AAAA,4CAGpBA,EAAK,KAAK;AAAA,4CACVA,EAAK,KAAK;AAAA,kDACJA,EAAK,QAAQ;AAAA,oDACXA,EAAK,SAAS;AAAA;AAAA,eAG7D,EAAE,KAAK,EAAE,CACd,CCdQ,SAASC,EAAUC,EAAG,CAC1B,MAAMC,EAAU,qCACVC,EAAW,gCAAkCD,EAC7CE,EAAS,IAAI,gBAAgB,CAC/B,IAAK,GAAGF,CAAO,GACf,EAAG,GAAGD,CAAC,GACP,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKI,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GACjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCLA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EACKC,EAAS,SAAS,eAAe,QAAQ,EAE/CJ,EAAK,iBAAiB,SAAUK,GAAK,CACjCA,EAAE,eAAc,EAChB,MAAMX,EAAIM,EAAK,SAAS,MAAM,MAC1BN,IAAM,KACVU,EAAO,MAAM,QAAU,QACvBX,EAAUC,CAAC,EAAE,KAAKH,GAAQ,CACtB,GAAIA,EAAK,KAAK,SAAW,EACrBe,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,MACE,CACH,MAAMC,EAASjB,EAAYC,CAAI,EAC/BU,EAAQ,UAAYM,EACpBL,EAAS,QAAO,CACnB,CACDE,EAAO,MAAM,QAAU,MAC/B,CAAK,EAAE,MAAMI,GAAS,CACdF,EAAS,MAAM,CACX,SAAU,WACV,QAAQ,0EACpB,CAAS,CACT,CAAK,EACL,CAAC"}